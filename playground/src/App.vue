<template>
  <div class="p-8">
    <h1 class="text-2xl font-bold mb-6">ğŸ§± Auto Form Builder Demo</h1>

    <AutoForm :schema="formSchema" @submit="handleSubmit" />

    <div v-if="submitted" class="mt-6 bg-green-100 p-4 rounded">
      <h2 class="font-semibold mb-2">ğŸ“¤ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±Ø³Ù„Ø©:</h2>
      <pre>{{ submitted }}</pre>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from "vue";
import { AutoForm } from "auto-form-builder";

const submitted = ref(null);

const formSchema = [
  { name: "username", label: "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…", type: "text", required: true },
  { name: "password", label: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±", type: "password", required: true },
  {
    name: "gender",
    label: "Ø§Ù„Ø¬Ù†Ø³",
    type: "radio",
    options: ["Ø°ÙƒØ±", "Ø£Ù†Ø«Ù‰"],
    required: true,
  },
  { name: "profilePic", label: "Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©", type: "file" },
  { name: "subscribe", label: "Ø§Ø´ØªØ±Ùƒ ÙÙŠ Ø§Ù„Ù†Ø´Ø±Ø©", type: "switch" },
];

function handleSubmit(data: Record<string, any>) {
  submitted.value = JSON.stringify(data, null, 2);
}
</script>

<style scoped>
body {
  font-family: sans-serif;
}
</style>
